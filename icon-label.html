<!--
Copyright 2017 Next Century Corporation

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
-->

<link rel="import" href="../polymer/polymer.html">
<link rel="import" href="../iron-flex-layout/iron-flex-layout-classes.html">
<link rel="import" href="../iron-icon/iron-icon.html">
<link rel="import" href="../iron-icons/iron-icons.html">

<!--
A Polymer Element showing an iron-icon and stylized text that is also optionally a link.

### Example
```html
<icon-label
  icon="icons:polymer"
  icon-style-class="style-class"
  link="http://link"
  target="_blank"
  text="Click Me">
</icon-label>
```

### Styling

`<icon-label>` provides the following custom properties and mixins for styling:

Custom property           | Description                                 | Default
--------------------------|---------------------------------------------|----------------------
`--icon-label-link-hover` | Style used when hovering over the link      | none
`--icon-label-text`       | Style used with both link and non-link text | none

@demo demo/index.html
-->

<dom-module id="icon-label">
  <template>
    <style include="iron-flex iron-flex-alignment iron-flex-factors"></style>

    <style>
      :host {
        display: block;
      }

      iron-icon {
        margin-right: 5px;
        --iron-icon-height: 20px;
        --iron-icon-width: 20px;
        /* Need to fix overflow issues. */
        min-width: 20px;
      }

      strong {
        line-height: 20px;
        /* Needed to fix flexbox layout issues in newer browsers. */
        display: -webkit-box;
        overflow: hidden;
        text-overflow: ellipsis;
        white-space: normal;
        word-break: break-word;
        -webkit-line-clamp: 1;
        -webkit-box-orient: vertical;
      }

      a {
        color: inherit;
        text-decoration: none;
      }

      a > strong {
        text-decoration: underline;
        @apply --icon-label-text;
      }

      a:hover > strong {
        @apply --icon-label-link-hover;
      }

      span > strong {
        @apply --icon-label-text;
      }
    </style>

    <template is="dom-if" if="[[link]]">
      <a class="layout horizontal center" href$="[[link]]" target$="[[target]]">
        <iron-icon class$="[[iconStyleClass]]" icon$="[[icon]]" item-icon></iron-icon>
        <strong>[[text]]</strong>
      </a>
    </template>

    <template is="dom-if" if="[[!link]]">
      <span class="layout horizontal center" title="[[text]]">
        <iron-icon class$="[[iconStyleClass]]" icon$="[[icon]]" item-icon></iron-icon>
        <strong>[[text]]</strong>
      </span>
    </template>
  </template>

  <script>
  (function() {
    'use strict';

    Polymer({
      is: 'icon-label',

      properties: {
        /**
         * (Required)
         *
         * The icon for the icon-label.
         *
         * @type {String}
         * @default ''
         */
        icon: {
          type: String,
          value: ''
        },

        /**
         * (Optional)
         *
         * The style class for the icon in the icon-label.
         *
         * @type {String}
         * @default ''
         */
        iconStyleClass: {
          type: String,
          value: ''
        },

        /**
         * (Optional)
         *
         * The link for the icon-label.
         *
         * @type {String}
         * @default ''
         */
        link: {
          type: String,
          value: ''
        },

        /**
         * (Optional)
         *
         * The target page of the link.
         *
         * @type {String}
         * @default '_self'
         */
        target: {
          type: String,
          value: '_self'
        },

        /**
         * (Required)
         *
         * The text for the icon-label.
         *
         * @type {String}
         * @default ''
         */
        text: {
          type: String,
          value: ''
        }
      }
    });
  })();
  </script>
</dom-module>
